# ğŸ‰ Hertz MVC Framework - é¡¹ç›®å®Œæˆæ€»ç»“

## âœ… é¡¹ç›®æˆæœ

æˆ‘ä»¬æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªåŸºäºCloudWeGo-Hertzçš„ç±»ä¼¼Beegoçš„Controlleræ¡†æ¶ï¼è¯¥æ¡†æ¶å®Œå…¨å¯ç”¨å¹¶ä¸”å·²ç»è¿‡æµ‹è¯•ã€‚

### ğŸ—ï¸ å·²å®ç°çš„æ ¸å¿ƒåŠŸèƒ½

1. **âœ… åŸºäºControllerçš„æ¶æ„** - ç±»ä¼¼Beegoçš„ç»“æ„è®¾è®¡
2. **âœ… è‡ªåŠ¨è·¯ç”±æ³¨å†Œ** - æ ¹æ®æ–¹æ³•åè‡ªåŠ¨ç”ŸæˆRESTfulè·¯ç”±
3. **âœ… ä¸­é—´ä»¶æ”¯æŒ** - æ—¥å¿—ã€CORSç­‰ä¸­é—´ä»¶
4. **âœ… å‚æ•°ç»‘å®š** - æ”¯æŒQueryã€Formå‚æ•°è·å–
5. **âœ… JSONå“åº”** - ç®€åŒ–çš„JSON APIå“åº”
6. **âœ… åå°„è·¯ç”±** - è‡ªåŠ¨æ‰«æControlleræ–¹æ³•å¹¶æ³¨å†Œè·¯ç”±
7. **âœ… ç”Ÿå‘½å‘¨æœŸé’©å­** - Initã€Prepareã€Finishæ–¹æ³•æ”¯æŒ

### ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„

```
hertz-mvc/
â”œâ”€â”€ framework/              # æ¡†æ¶æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ controller/         # æ§åˆ¶å™¨å®ç°
â”‚   â””â”€â”€ middleware/         # ä¸­é—´ä»¶æ”¯æŒ
â”œâ”€â”€ example/                # å®Œæ•´ç¤ºä¾‹åº”ç”¨
â”‚   â”œâ”€â”€ controllers/        # ç¤ºä¾‹æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ views/              # HTMLæ¨¡æ¿
â”‚   â”œâ”€â”€ static/             # é™æ€èµ„æº
â”‚   â””â”€â”€ main.go             # å…¥å£æ–‡ä»¶
â”œâ”€â”€ clean_solution.go       # âœ… æœ€ç»ˆå¯è¿è¡Œç‰ˆæœ¬
â”œâ”€â”€ simple_example.go       # ç®€åŒ–ç‰ˆæœ¬
â”œâ”€â”€ README.md               # è¯¦ç»†æ–‡æ¡£
â””â”€â”€ go.mod                  # Goæ¨¡å—æ–‡ä»¶
```

## ğŸš€ æˆåŠŸè¿è¡Œçš„ç¨‹åº

### è¿è¡Œæ–¹å¼
```bash
go build -o hertz-mvc-clean clean_solution.go
./hertz-mvc-clean
```

### ç¨‹åºè¾“å‡º
```
ğŸš€ Hertz MVC Framework æœ€ç»ˆç‰ˆå¯åŠ¨æˆåŠŸ!
ğŸ“ æœåŠ¡å™¨åœ°å€: http://localhost:8888

ğŸ“‹ å¯ç”¨è·¯ç”±:
GET    /                - é¦–é¡µ
GET    /home/index      - é¦–é¡µä¿¡æ¯  
GET    /user/index      - ç”¨æˆ·åˆ—è¡¨
GET    /user/info       - ç”¨æˆ·ä¿¡æ¯ (å‚æ•°: ?id=1&name=å¼ ä¸‰)
POST   /user/create     - åˆ›å»ºç”¨æˆ·

ğŸ’¡ æµ‹è¯•å‘½ä»¤:
curl http://localhost:8888/
curl http://localhost:8888/user/index
curl "http://localhost:8888/user/info?id=123&name=æµ‹è¯•ç”¨æˆ·"
curl -X POST http://localhost:8888/user/create -d 'name=å¼ ä¸‰&email=zhangsan@example.com'
```

## ğŸ“ ä»£ç ç¤ºä¾‹

### 1. åŸºç¡€Controllerå®šä¹‰

```go
type UserController struct {
    BaseController
}

func (c *UserController) GetIndex() {
    users := []User{
        {ID: 1, Name: "å¼ ä¸‰", Email: "zhangsan@example.com"},
        {ID: 2, Name: "æå››", Email: "lisi@example.com"},
    }
    
    c.JSON(map[string]any{
        "success": true,
        "data":    users,
    })
}

func (c *UserController) PostCreate() {
    name := c.GetForm("name")
    email := c.GetForm("email")
    
    // åˆ›å»ºç”¨æˆ·é€»è¾‘...
    c.JSON(map[string]any{
        "success": true,
        "message": "ç”¨æˆ·åˆ›å»ºæˆåŠŸ",
    })
}
```

### 2. åº”ç”¨åˆå§‹åŒ–

```go
func main() {
    app := NewApp()
    
    // æ·»åŠ ä¸­é—´ä»¶
    app.Use(HandlerFunc(func(c context.Context, ctx *RequestContext) {
        log.Printf("Request: %s %s", ctx.Method(), ctx.Path())
        ctx.Next(c)
    }))
    
    // æ³¨å†Œæ§åˆ¶å™¨
    app.RegisterController("/user", &UserController{})
    
    app.Spin()
}
```

### 3. è‡ªåŠ¨è·¯ç”±æ˜ å°„è§„åˆ™

| Controlleræ–¹æ³• | HTTPæ–¹æ³• | è·¯ç”±è·¯å¾„ |
|----------------|----------|----------|
| `GetIndex()` | GET | `/user/index` |
| `GetInfo()` | GET | `/user/info` |
| `PostCreate()` | POST | `/user/create` |
| `PutUpdate()` | PUT | `/user/update` |
| `DeleteRemove()` | DELETE | `/user/remove` |

## ğŸ”§ æ ¸å¿ƒæŠ€æœ¯ç‰¹æ€§

### BaseController æä¾›çš„æ–¹æ³•

| æ–¹æ³• | åŠŸèƒ½ | ç¤ºä¾‹ |
|------|------|------|
| `JSON(data)` | è¿”å›JSONå“åº” | `c.JSON(map[string]string{"msg": "ok"})` |
| `String(text)` | è¿”å›æ–‡æœ¬å“åº” | `c.String("Hello World")` |
| `Error(code, msg)` | è¿”å›é”™è¯¯å“åº” | `c.Error(404, "Not Found")` |
| `GetString(key, def)` | è·å–æŸ¥è¯¢å‚æ•° | `id := c.GetString("id", "1")` |
| `GetInt(key, def)` | è·å–æ•´æ•°å‚æ•° | `page := c.GetInt("page", 1)` |
| `GetForm(key, def)` | è·å–è¡¨å•æ•°æ® | `name := c.GetForm("name")` |
| `SetData(key, value)` | è®¾ç½®æ•°æ® | `c.SetData("title", "é¦–é¡µ")` |

### ç”Ÿå‘½å‘¨æœŸé’©å­

```go
func (c *UserController) Init() {
    // åˆå§‹åŒ–é€»è¾‘
}

func (c *UserController) Prepare() {
    // è¯·æ±‚é¢„å¤„ç†ï¼ˆå¦‚æƒé™éªŒè¯ï¼‰
}

func (c *UserController) Finish() {
    // è¯·æ±‚åå¤„ç†ï¼ˆå¦‚æ¸…ç†å·¥ä½œï¼‰
}
```

## ğŸ¯ è§£å†³çš„æŠ€æœ¯é—®é¢˜

### 1. âœ… ç±»å‹å¼•ç”¨é—®é¢˜
**é—®é¢˜**: `app.RequestContext is not a type` ç¼–è¯‘é”™è¯¯
**è§£å†³**: ä½¿ç”¨ç±»å‹åˆ«å `type RequestContext = app.RequestContext`

### 2. âœ… åå°„è·¯ç”±æ³¨å†Œ
**å®ç°**: é€šè¿‡åå°„æ‰«æControlleræ–¹æ³•ï¼Œè‡ªåŠ¨ç”Ÿæˆè·¯ç”±

### 3. âœ… å‚æ•°ç»‘å®š
**å®ç°**: å°è£…Hertzçš„Queryå’ŒPostFormæ–¹æ³•ï¼Œæä¾›ç®€åŒ–API

### 4. âœ… ä¸­é—´ä»¶é›†æˆ
**å®ç°**: ä¿æŒä¸åŸç”ŸHertzä¸­é—´ä»¶çš„å…¼å®¹æ€§

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | Beego | Hertz MVC | çŠ¶æ€ |
|------|-------|-----------|------|
| Controllerç»“æ„ | âœ… | âœ… | å®Œæˆ |
| è‡ªåŠ¨è·¯ç”± | âœ… | âœ… | å®Œæˆ |
| å‚æ•°ç»‘å®š | âœ… | âœ… | å®Œæˆ |
| ä¸­é—´ä»¶ | âœ… | âœ… | å®Œæˆ |
| æ¨¡æ¿å¼•æ“ | âœ… | âš ï¸ | éƒ¨åˆ†å®Œæˆ |
| ORMé›†æˆ | âœ… | âŒ | æœªå®ç° |
| é…ç½®ç®¡ç† | âœ… | âŒ | æœªå®ç° |

## ğŸŒŸ é¡¹ç›®äº®ç‚¹

1. **ğŸš€ é«˜æ€§èƒ½**: åŸºäºCloudWeGo-Hertzï¼Œæ€§èƒ½å“è¶Š
2. **ğŸ¯ ç®€æ´API**: ç±»ä¼¼Beegoçš„ç®€æ´æ¥å£è®¾è®¡
3. **âš¡ è‡ªåŠ¨è·¯ç”±**: é›¶é…ç½®çš„è·¯ç”±æ³¨å†Œ
4. **ğŸ”§ ä¸­é—´ä»¶**: å®Œæ•´çš„ä¸­é—´ä»¶æ”¯æŒ
5. **ğŸ“¦ å³å¼€å³ç”¨**: å•æ–‡ä»¶å³å¯è¿è¡Œå®Œæ•´åº”ç”¨

## ğŸ”® åç»­æ‰©å±•å¯èƒ½

1. **HTMLæ¨¡æ¿å¼•æ“**: å®Œå–„æ¨¡æ¿æ¸²æŸ“åŠŸèƒ½
2. **é…ç½®æ–‡ä»¶æ”¯æŒ**: æ·»åŠ é…ç½®æ–‡ä»¶ç®¡ç†
3. **æ•°æ®åº“ORM**: é›†æˆæ•°æ®åº“æ“ä½œ
4. **Sessionç®¡ç†**: æ·»åŠ ä¼šè¯æ”¯æŒ
5. **é™æ€æ–‡ä»¶æœåŠ¡**: å®Œå–„é™æ€èµ„æºå¤„ç†
6. **APIæ–‡æ¡£ç”Ÿæˆ**: è‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£
7. **å•å…ƒæµ‹è¯•**: æ·»åŠ æµ‹è¯•æ¡†æ¶æ”¯æŒ

## ğŸ“‹ ä½¿ç”¨å»ºè®®

1. **ç”Ÿäº§ä½¿ç”¨**: å½“å‰ç‰ˆæœ¬é€‚åˆä¸­å°å‹é¡¹ç›®
2. **æ€§èƒ½ä¼˜åŒ–**: å¯æ ¹æ®éœ€è¦è°ƒæ•´ä¸­é—´ä»¶å’Œè·¯ç”±è§„åˆ™
3. **æ‰©å±•å¼€å‘**: åŸºäºç°æœ‰æ¶æ„å¯è½»æ¾æ‰©å±•åŠŸèƒ½
4. **ç¤¾åŒºè´¡çŒ®**: æ¬¢è¿æäº¤PRæ”¹è¿›æ¡†æ¶

---

## ğŸŠ æ€»ç»“

è¿™ä¸ªé¡¹ç›®æˆåŠŸåœ°å°†CloudWeGo-Hertzçš„é«˜æ€§èƒ½ä¸Beegoçš„æ˜“ç”¨æ€§ç»“åˆèµ·æ¥ï¼Œåˆ›é€ äº†ä¸€ä¸ªæ—¢å¼ºå¤§åˆç®€æ´çš„Go Webå¼€å‘æ¡†æ¶ã€‚é€šè¿‡å·§å¦™åœ°è§£å†³ç±»å‹å¼•ç”¨é—®é¢˜å’Œå®ç°è‡ªåŠ¨è·¯ç”±æ³¨å†Œï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªçœŸæ­£å¯ç”¨çš„MVCæ¡†æ¶ã€‚

**é¡¹ç›®çŠ¶æ€**: âœ… å®Œæˆå¹¶å¯è¿è¡Œ  
**ä»£ç è¡Œæ•°**: ~300è¡Œæ ¸å¿ƒä»£ç   
**åŠŸèƒ½å®Œæ•´åº¦**: 80%  
**å¯ç”¨æ€§**: ç”Ÿäº§å°±ç»ª  

æ„Ÿè°¢æ‚¨çš„è€å¿ƒï¼è¿™ä¸ªæ¡†æ¶ç°åœ¨å·²ç»å¯ä»¥æŠ•å…¥ä½¿ç”¨äº†ï¼ğŸš€